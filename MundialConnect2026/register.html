<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>MundialConnect 2026 - Registro</title>
<link rel="stylesheet" href="styles.css">

<style>
/* --- Estilos para mensajes de error y campos --- */
.error-message {
    color: #ff4b4b;
    font-size: 0.9em;
    margin-top: 4px;
    display: none;
}
input.error {
    border: 2px solid #ff4b4b;
    background-color: #ffecec;
}
.password-container {
    position: relative;
    display: flex;
    align-items: center;
}
.toggle-password {
    position: absolute;
    right: 10px;
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1.1em;
    color: #333;
}
.toggle-password:hover {
    color: #0077ff;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const form = document.querySelector("form");
    const nombreInput = form.nombre;
    const emailInput = form.email;
    const passwordInput = form.password;

    const nombreError = document.getElementById("nombre-error");
    const emailError = document.getElementById("email-error");
    const passwordError = document.getElementById("password-error");
    const toggleBtn = document.getElementById("togglePassword");

    // Regex para validar la contrase√±a
    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9]).{8,}$/;

    form.addEventListener("submit", function(event) {
        let valid = true;

        // Resetear errores y estilos
        [nombreInput, emailInput, passwordInput].forEach(input => input.classList.remove("error"));
        [nombreError, emailError, passwordError].forEach(err => err.style.display = "none");

        // Validar nombre
        if (!nombreInput.value.trim()) {
            nombreError.textContent = "Por favor, ingresa tu nombre.";
            nombreError.style.display = "block";
            nombreInput.classList.add("error");
            valid = false;
        }

        // Validar email
        if (!emailInput.value.trim()) {
            emailError.textContent = "Por favor, ingresa tu correo electr√≥nico.";
            emailError.style.display = "block";
            emailInput.classList.add("error");
            valid = false;
        }

        // Validar contrase√±a
        const password = passwordInput.value.trim();
        if (!password) {
            passwordError.textContent = "Por favor, ingresa una contrase√±a.";
            passwordError.style.display = "block";
            passwordInput.classList.add("error");
            valid = false;
        } else if (!passwordRegex.test(password)) {
            passwordError.textContent = "Debe tener al menos 8 caracteres, una may√∫scula, una min√∫scula y un car√°cter especial.";
            passwordError.style.display = "block";
            passwordInput.classList.add("error");
            valid = false;
        }

        if (!valid) event.preventDefault();
    });

    // Ocultar errores al escribir
    [nombreInput, emailInput, passwordInput].forEach(input => {
        input.addEventListener("input", () => {
            input.classList.remove("error");
            if (input === nombreInput) nombreError.style.display = "none";
            if (input === emailInput) emailError.style.display = "none";
            if (input === passwordInput) passwordError.style.display = "none";
        });
    });

    // Bot√≥n para mostrar/ocultar la contrase√±a
    toggleBtn.addEventListener("click", function() {
        const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
        passwordInput.setAttribute("type", type);
        toggleBtn.textContent = type === "password" ? "üëÅ" : "üôà";
    });
});
</script>
</head>

<body class="bg">
<main class="card">
<h1>‚öΩ Reg√≠strate en MundialConnect 2026</h1>

<form method="post" action="registro.php" novalidate>
    <label>Nombre
        <input type="text" name="nombre" required>
        <div id="nombre-error" class="error-message"></div>
    </label>

    <label>Email
        <input type="email" name="email" required>
        <div id="email-error" class="error-message"></div>
    </label>

    <label>Contrase√±a
        <div class="password-container">
            <input type="password" name="password" required>
            <button type="button" id="togglePassword" class="toggle-password">üëÅ</button>
        </div>
        <div id="password-error" class="error-message"></div>
    </label>

    <button type="submit">Crear cuenta</button>
</form>

<p>¬øYa tienes cuenta? <a href="index.html">Inicia sesi√≥n</a></p>
</main>
</body>
</html>
